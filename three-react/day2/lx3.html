<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="../js/react.development.js"></script>
    <script src="../js/react-dom.development.js"></script>
    <script src="../js/babel.js"></script>
</head>

<body>
    <div id="box"></div>
</body>
<script type="text/babel">
    var obj = {a:1,b:2,c:3}
    class App extends React.Component {
        constructor() {
            super();
            this.state = {
                list: [{
                    id:1,
                    name:'a'
                },{
                    id:2,
                    name:'b'
                },{
                    id:3,
                    name:'c'
                },{
                    id:4,
                    name:'d'
                }]
            };
            this.add = this.add.bind(this)
        }
        add(){
            this.state.list.push({name:this.refs.name.value})
            this.setState({
                list: this.state.list
            })
        }
        del(val1,val2){
            console.log(val1)
            // console.log(val2)
            this.state.list.splice(val1,1)
            this.setState({
                list: this.state.list
            })
        }
        componentDidMount(){
        //     fetch('https://jsonplaceholder.typicode.com/users').then(res => res.json()).then(res => {
        //         console.log(res)
        //         this.setState({
        //             list: res
        //         })
        //     })
        }
        render() {
            return <div>
                <p><input type="text" ref="name"/><input type="button" value="添加" onClick={this.add}/></p>
                <ul>
                    {
                        this.state.list.map((item,index) => {
                            return <li key={index} style={{background: index%2 ? '':'#ccc'}}>{item.name}----- 
                                <input type="button" kye={index} value="删除" onClick={this.del.bind(this,index)} />
                            </li>
                        })
                    }
                </ul>
            </div>
        }
    }
    // class List extends React.Component {
    //     render() {
    //         return <ul>
    //             {
    //                 this.props.list.map((item,index) => {
    //                     return <li key={index} style={{background: index%2 ? '':'#ccc'}}>{item.name}----- 
    //                         <input type="button" kye={index} value="删除" onClick={this.del(index)} />
    //                     </li>
    //                 })
    //             }
    //         </ul>
    //     }
    //     del(val){

    //     }
    // }
    ReactDOM.render(
        <App  />
    ,document.querySelector('#box'))
</script>

</html>